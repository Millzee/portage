--- plugins/org.eclipse.core.runtime.compatibility.registry/build.xml	2006-04-18 07:54:25.000000000 +0300
+++ plugins/org.eclipse.core.runtime.compatibility.registry/build.xml.fixed	2006-04-18 07:54:01.000000000 +0300
@@ -60,6 +60,7 @@
 			<pathelement path="../org.eclipse.equinox.registry/runtime_registry_compatibility.jar"/>
 			<pathelement path="../org.eclipse.equinox.registry/bin/"/>
 			<pathelement path="../org.eclipse.equinox.registry/@dot"/>
+			<pathelement path="../org.eclipse.core.runtime/@dot"/>
 			<pathelement path="${build.result.folder}/../org.eclipse.osgi/bin/"/>
 			<pathelement path="${build.result.folder}/../org.eclipse.osgi/@dot"/>
 			<pathelement path="${build.result.folder}/../org.eclipse.core.jobs/bin/"/>
--- plugins/org.eclipse.core.filesystem/natives/unix/linux/Makefile.orig	2006-04-19 20:39:43.000000000 +0300
+++ plugins/org.eclipse.core.filesystem/natives/unix/linux/Makefile	2006-04-19 20:41:40.000000000 +0300
@@ -17,13 +17,13 @@
 OS_TYPE = linux
 
 #Set this to be the location of your JRE
-JAVA_HOME = ~/vm/sun142
+#JAVA_HOME = ~/vm/sun142
 
 JDK_INCLUDE = -I ${JAVA_HOME}/include -I ${JAVA_HOME}/include/${OS_TYPE}
 COMMON_INCLUDE = -I include
 
 core :
-	gcc -fPIC -g -c $(JDK_INCLUDE) $(COMMON_INCLUDE) -o $(CORE.O) $(CORE.C)
+	gcc -fPIC -g -c $(JDK_INCLUDE) $(COMMON_INCLUDE) $(CFLAGS) -o $(CORE.O) $(CORE.C)
 	gcc -g -shared -Wl,-soname,$(LIB_NAME) -o $(LIB_NAME_FULL) $(CORE.O) -lc
 
 clean :
--- plugins/org.eclipse.update.core.linux/src/build.xml~	2006-04-29 12:43:49.000000000 +0300
+++ plugins/org.eclipse.update.core.linux/src/build.xml	2006-04-29 12:43:17.000000000 +0300
@@ -5,7 +5,7 @@
   <!-- Set a meaningful default value for when it is not. -->
   <property name="eclipse-home" value="${basedir}/../.."/>
   <property name="jdk-path" value="${java.home}"/>  
-  <property name="destination" value="${eclipse-home}/org.eclipse.update.core.linux/os/linux/x86/"/>
+  <property name="destination" value="${eclipse-home}/org.eclipse.update.core.linux/os/linux/${arch}/"/>
   <property name="obj-path" value="${eclipse-home}/org.eclipse.update.core.linux/src/"/>
   <property name="src-path" value="${eclipse-home}/org.eclipse.update.core.linux/src/"/>  
   
@@ -47,17 +47,17 @@
     <property name="header-path" value="${jdk-path}/../include"/>
     <property name="header-linux-path" value="${header-path}/linux" />
 
-	<echo message="gcc -o  ${library-file} -shared -I${src-path} -I${header-linux-path} ${library-file} -static -lc"/>
+	<echo message="gcc -o  ${library-file} -shared -fPIC -I${src-path} -I${header-linux-path} ${library-file} -lc"/>
 
     <apply executable="gcc" dest="${eclipse-home}/" parallel="false">
       <arg value="-o"/>
       <arg value="${library-file}"/>
       <arg value="-shared"/>
+      <arg value="-fPIC"/>
       <arg value="-I${src-path}"/>
       <arg value="-I${header-path}"/>      
       <arg value="-I${header-linux-path}"/>  
 	  <srcfile/>
-	  <arg value="-static"/>           
       <arg value="-lc"/>	  
       <fileset dir="${src-path}" includes="*.c"/>
       <mapper type="glob" from="*.c" to="*.o"/>


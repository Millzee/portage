--- build.xml.orig	2006-09-29 14:02:22.000000000 +0200
+++ build.xml	2006-09-29 14:03:32.000000000 +0200
@@ -66,7 +66,7 @@
 	   Construct the .jar file for use in a library.
 	 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
 
-	<target name="jar" depends="compileall"
+	<target name="jar" depends="compile"
 		description="Creates glazedlists jar file containing all UI libraries.">
 		<jar destfile="glazedlists_${java.target.version.fileFriendlyName}.jar" update="true" index="true">
 			<fileset dir="classes"/>
@@ -144,11 +144,13 @@
 
     <target name="swt" depends="core">
         <mkdir dir="extensions/swt/lib"/>
+		<!--
         <java classname="ca.odell.glazedlists.impl.HttpClient">
             <classpath path="classes"/>
             <arg value="https://glazedlists.dev.java.net/files/documents/1073/25145/swt-api.jar"/>
             <arg value="extensions/swt/lib/swt-api.jar"/>
         </java>
+		-->
         <javac destdir="classes" srcdir="extensions/swt/source" debug="on" source="${java.target.version}" target="${java.target.version}" deprecation="on">
             <classpath>
                 <fileset dir="extensions/swt/lib/" includes="*.jar"/>
@@ -158,11 +160,13 @@
 
     <target name="ktable" depends="core,swt,issuesbrowser">
         <mkdir dir="extensions/ktable/lib"/>
+		<!--
         <java classname="ca.odell.glazedlists.impl.HttpClient">
             <classpath path="classes"/>
             <arg value="https://glazedlists.dev.java.net/files/documents/1073/24419/ktable.jar"/>
             <arg value="extensions/ktable/lib/ktable.jar"/>
         </java>
+		-->
         <javac destdir="classes" srcdir="extensions/ktable/source" debug="on" source="${java.target.version}" target="${java.target.version}" deprecation="on">
             <classpath>
                 <fileset dir="extensions/ktable/lib/" includes="*.jar"/>
@@ -318,16 +322,13 @@
 
     <target name="test" depends="compiletests"
             description="Compile unit tests and run them using JUnit.">
-            <!-- Verify that JUnit is available on the classpath -->
-            <available classname="junit.framework.TestCase" property="junit.present"/>
-            <fail unless="junit.present" message="To run this task, install junit.jar and optional.jar into ${ant.home}/lib/ JUnit is available free at http://www.junit.org"/>
             <!-- Execute JUnit tests -->
             <junit printsummary="true" showoutput="false" fork="true"
                     errorProperty="test.failed" failureProperty="test.failed">
                     <assertions>
                             <enable/>
                     </assertions>
-                    <classpath path="classes:${ant.home}/lib/junit.jar"/>
+                    <classpath path="classes"/>
                     <formatter type="brief" usefile="false"/>
                     <batchtest>
                             <fileset dir="classes/" includes="**/**Test.class"/>
@@ -336,13 +337,11 @@
             <fail message="Tests failed. Check test output." if="test.failed"/>
     </target>
 
-    <target name="compiletests" depends="compileall">
+    <target name="compiletests" depends="compile">
         <!-- Compile the test classes from source/ into classes/ -->
-        <echo>${ant.home}</echo>
         <javac destdir="classes" srcdir="test" debug="on" source="${java.target.version}" target="${java.target.version}" deprecation="on">
             <classpath>
                 <fileset dir="extensions" includes="**/*.jar"/>
-                <fileset file="${ant.home}/lib/junit.jar"/>
             </classpath>
         </javac>
     </target>
